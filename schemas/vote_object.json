{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "LACP Tribunal Vote",
  "description": "Schema for a vote cast by an agent within a Tribunal consensus process. Updated v2 with personality-weighted fields.",
  "type": "object",
  "required": [
    "agent_id",
    "role",
    "verdict",
    "confidence",
    "reasoning",
    "vector_embedding"
  ],
  "properties": {
    "agent_id": {
      "type": "string",
      "format": "uuid",
      "description": "Unique identifier of the voting agent."
    },
    "role": {
      "type": "string",
      "enum": ["REVIEWER", "SECURITY", "ARCHITECT", "TESTER", "IDENTIFIER", "GRADER", "AUTHENTICATOR", "APPRAISER", "COPYWRITER", "QA_REVIEWER"],
      "description": "The specialized role of the agent."
    },
    "archetype": {
      "type": "string",
      "enum": ["SCHOLAR", "SENTINEL", "PALADIN", "MERCHANT", "ROGUE", "PROTECTOR"],
      "description": "The personality archetype assigned to this agent (AAPS)."
    },
    "verdict": {
      "type": "string",
      "enum": ["APPROVE", "REJECT", "ABSTAIN"],
      "description": "The binary or ternary decision."
    },
    "confidence": {
      "type": "number",
      "minimum": 0.0,
      "maximum": 1.0,
      "description": "Self-reported confidence score in the verdict."
    },
    "vote_weight": {
      "type": "number",
      "minimum": 0.5,
      "maximum": 1.5,
      "default": 1.0,
      "description": "Personality-derived tribunal vote weight (from OCEAN scores). Default 1.0 for unweighted consensus."
    },
    "reasoning": {
      "type": "string",
      "description": "Natural language explanation of the decision."
    },
    "vector_embedding": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "High-dimensional vector representation of the reasoning for sycophancy detection."
    },
    "personality_snapshot": {
      "type": "object",
      "description": "Optional snapshot of the agent's OCEAN scores at vote time for audit trail.",
      "properties": {
        "openness": { "type": "number", "minimum": 0.05, "maximum": 0.95 },
        "conscientiousness": { "type": "number", "minimum": 0.05, "maximum": 0.95 },
        "extraversion": { "type": "number", "minimum": 0.05, "maximum": 0.95 },
        "agreeableness": { "type": "number", "minimum": 0.05, "maximum": 0.95 },
        "neuroticism": { "type": "number", "minimum": 0.05, "maximum": 0.95 },
        "version": { "type": "integer", "minimum": 0 }
      }
    },
    "sycophancy_flag": {
      "type": "boolean",
      "default": false,
      "description": "Whether this vote was flagged as potentially sycophantic by the detector."
    },
    "salt": {
      "type": "string",
      "description": "Random salt used during the Commit phase (only present in Reveal phase)."
    }
  }
}
