{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "LACP Tribunal Vote",
  "description": "Schema for a vote cast by an agent within a Tribunal consensus process. Updated v2 with personality-weighted fields.",
  "type": "object",
  "required": [
    "agent_id",
    "role",
    "verdict",
    "confidence",
    "reasoning",
    "vector_embedding"
  ],
  "properties": {
    "agent_id": {
      "type": "string",
      "format": "uuid",
      "description": "Unique identifier of the voting agent."
    },
    "role": {
      "type": "string",
      "enum": [
        "VISIONARY", "COORDINATOR", "ANALYST", "ARCHITECT", "BUILDER", "TESTER",
        "REVIEWER", "DEVOPS", "SERVICE_MANAGER", "TREASURER", "SECURITY", "DEVSECOPS",
        "COACH", "DESIGNER", "DEBUGGER", "EXPLORER", "DOCUMENTER", "CHIEF_OF_STAFF"
      ],
      "description": "The role of the agent. Must be one of the 18 canonical LACP roles. Domain-specific roles should map to a canonical role."
    },
    "archetype": {
      "type": "string",
      "enum": [
        "GYNE", "PHEROMONE", "FORAGER", "MASON", "ERGATE", "INSPECTOR",
        "SENTINEL", "CARRIER", "TROPHALLAXIS", "REPLETE", "GUARDIAN", "CLEANER",
        "NURSE", "MORPH", "SOLDIER", "SCOUT", "ANTENNA", "STEWARD"
      ],
      "description": "The personality archetype assigned to this agent (AAPS). Includes ant-colony archetypes and domain-specific archetypes."
    },
    "verdict": {
      "type": "string",
      "enum": ["APPROVE", "REJECT", "ABSTAIN"],
      "description": "The binary or ternary decision."
    },
    "confidence": {
      "type": "number",
      "minimum": 0.0,
      "maximum": 1.0,
      "description": "Self-reported confidence score in the verdict."
    },
    "vote_weight": {
      "type": "number",
      "minimum": 0.5,
      "maximum": 1.2,
      "default": 1.0,
      "description": "Personality-derived tribunal vote weight (from OCEAN scores). Default 1.0 for unweighted consensus."
    },
    "reasoning": {
      "type": "string",
      "description": "Natural language explanation of the decision."
    },
    "vector_embedding": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "description": "High-dimensional vector representation of the reasoning for sycophancy detection."
    },
    "personality_snapshot": {
      "type": "object",
      "description": "Optional snapshot of the agent's OCEAN scores at vote time for audit trail.",
      "properties": {
        "openness": { "type": "number", "minimum": 0, "maximum": 1 },
        "conscientiousness": { "type": "number", "minimum": 0, "maximum": 1 },
        "extraversion": { "type": "number", "minimum": 0, "maximum": 1 },
        "agreeableness": { "type": "number", "minimum": 0, "maximum": 1 },
        "neuroticism": { "type": "number", "minimum": 0, "maximum": 1 },
        "version": { "type": "integer", "minimum": 0 }
      }
    },
    "sycophancy_flag": {
      "type": "boolean",
      "default": false,
      "description": "Whether this vote was flagged as potentially sycophantic by the detector."
    },
    "salt": {
      "type": "string",
      "description": "Random salt used during the Commit phase (only present in Reveal phase)."
    }
  }
}
